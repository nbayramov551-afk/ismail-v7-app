<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>PHANTOM V57 | ISMAIL BOSS</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script src="https://unpkg.com/peerjs@1.4.7/dist/peerjs.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;900&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    
    <style>
        :root { --neon: #00ff41; --danger: #ff003c; --blue: #00f2ff; --bg: #000; --gold: #ffd700; }
        * { box-sizing: border-box; margin: 0; padding: 0; user-select: none; outline: none; }
        body { background: var(--bg); color: #fff; height: 100vh; overflow: hidden; font-family: 'Orbitron', sans-serif; perspective: 3500px; }

        #matrix-bg { position: fixed; inset: 0; z-index: -1; opacity: 0.45; pointer-events: none; }

        /* ADVANCED 3D SPACE ADS */
        .ad-layer { position: fixed; inset: 0; z-index: 9999; background: #000; display: flex; align-items: center; justify-content: center; transform-style: preserve-3d; }
        .ad-txt { font-size: 4rem; color: var(--neon); font-weight: 900; animation: hyperDrive 3.5s infinite ease-in; text-shadow: 0 0 60px var(--neon); text-align: center; }
        @keyframes hyperDrive {
            0% { transform: translateZ(-4000px) scale(0); opacity: 0; filter: blur(20px); }
            50% { transform: translateZ(500px) scale(1.2); opacity: 1; filter: blur(0); }
            100% { transform: translateZ(4000px) scale(5); opacity: 0; filter: blur(30px); }
        }

        /* NUCLEAR SHOCKWAVE EMOJI */
        #emoji-land { position: fixed; inset: 0; pointer-events: none; z-index: 9500; display: flex; align-items: center; justify-content: center; }
        .nuke-emoji { position: absolute; font-size: 600px; animation: nukeV2 1.3s cubic-bezier(0.15, 0.83, 0.66, 1) forwards; filter: drop-shadow(0 0 70px var(--blue)) brightness(1.5); }
        @keyframes nukeV2 {
            0% { transform: translateZ(-4500px) rotate(0deg); opacity: 0; }
            30% { transform: translateZ(100px) rotate(180deg); opacity: 1; }
            100% { transform: translateZ(4500px) rotate(360deg) scale(25); opacity: 0; }
        }
        .shake-active { animation: shockwave 0.4s infinite; }
        @keyframes shockwave { 0% { transform: scale(1); } 20% { transform: scale(1.05) translate(5px, -5px); } 40% { transform: scale(0.95) translate(-5px, 5px); } 100% { transform: scale(1); } }

        /* ULTRA LIVE CALL UI */
        #media-layer { position: fixed; inset: 0; z-index: 10000; background: #000; display: none; transform: scale(1.5) rotateY(90deg); opacity: 0; transition: 0.8s cubic-bezier(0.85, 0, 0.15, 1); }
        #media-layer.active { display: block; transform: scale(1) rotateY(0deg); opacity: 1; }
        #remote-v { width: 100%; height: 100%; object-fit: cover; filter: contrast(1.1) saturate(1.2); }
        #local-v { position: absolute; top: 40px; right: 40px; width: 140px; height: 200px; border: 4px solid var(--neon); border-radius: 20px; box-shadow: 0 0 40px var(--neon); z-index: 10001; object-fit: cover; }

        #app-screen { position: fixed; inset: 0; z-index: 500; display: none; flex-direction: column; background: rgba(0,0,0,0.98); }
    </style>
</head>
<body id="main-body">

    <canvas id="matrix-bg"></canvas>
    <div id="emoji-land"></div>

    <div id="ad-box" class="ad-layer">
        <div class="ad-txt">PHANTOM V57<br><small style="color:var(--blue); font-size:1.5rem;">BOSS LIVE TERMINAL</small></div>
    </div>

    <div id="login-screen" style="position:fixed; inset:0; z-index:8000; display:none; flex-direction:column; align-items:center; justify-content:center; background:#000;">
        <h2 style="color:var(--neon); margin-bottom:40px; letter-spacing:10px;">IDENTITY REQUIRED</h2>
        <button onclick="boot('BOSS')" style="width:320px; padding:30px; border:5px solid var(--neon); background:transparent; color:var(--neon); font-weight:900; margin:15px; cursor:pointer;">BOSS CORE</button>
        <button onclick="boot('GUEST')" style="width:320px; padding:30px; border:5px solid var(--blue); background:transparent; color:var(--blue); font-weight:900; margin:15px; cursor:pointer;">GUEST CORE</button>
    </div>

    <div id="app-screen">
        <div style="padding:30px; border-bottom:4px solid var(--neon); display:flex; justify-content:space-between; align-items:center; background:rgba(0,255,65,0.05);">
            <div><b id="status" style="color:var(--neon); font-size:1.2rem;">SÄ°STEM DEAKTÄ°V</b></div>
            <div style="display:flex; gap:35px;">
                <i class="fas fa-video fa-2x" style="color:var(--blue); cursor:pointer;" onclick="call(true)"></i>
                <i class="fas fa-phone-alt fa-2x" style="color:var(--neon); cursor:pointer;" onclick="call(false)"></i>
            </div>
        </div>
        <div id="chat-box" style="flex:1; overflow-y:auto; padding:25px; display:flex; flex-direction:column; gap:20px;"></div>
        <div style="padding:30px; background:#000; border-top:3px solid var(--neon);">
            <div style="display:flex; gap:25px; justify-content:center; font-size:65px; margin-bottom:20px;">
                <span onclick="send8D('ðŸ”¥')">ðŸ”¥</span><span onclick="send8D('ðŸ’€')">ðŸ’€</span>
                <span onclick="send8D('âš¡')">âš¡</span><span onclick="send8D('ðŸ˜ˆ')">ðŸ˜ˆ</span>
            </div>
            <div style="display:flex; gap:15px;">
                <input type="text" id="msg-input" style="flex:1; background:#111; border:2px solid #222; color:#fff; padding:22px; border-radius:12px; font-family:'Share Tech Mono'; font-size:1.1rem;" placeholder="ÅžifrÉ™li kanal...">
                <button onclick="sendMsg()" style="background:none; border:none; color:var(--blue); font-size:40px; cursor:pointer;"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>

    <div id="media-layer">
        <video id="remote-v" autoplay playsinline></video>
        <video id="local-v" autoplay muted playsinline></video>
        <div style="position:absolute; bottom:60px; width:100%; display:flex; justify-content:center;">
            <button onclick="killCall()" style="width:90px; height:90px; background:var(--danger); border-radius:50%; border:none; color:#fff; font-size:35px; box-shadow:0 0 50px var(--danger);"><i class="fas fa-phone-slash"></i></button>
        </div>
    </div>

<script>
const CORE_ID = "ISMAIL-BOSS-CORE-V57";
const KEY = "V57-PRIVATE-SALT-X";
let peer, conn, myStream, activeCall;

const pack = (d) => btoa(CryptoJS.AES.encrypt(JSON.stringify(d), KEY).toString());
const unpack = (d) => {
    try {
        return JSON.parse(CryptoJS.AES.decrypt(atob(d), KEY).toString(CryptoJS.enc.Utf8));
    } catch(e) { return {t:'err'}; }
};

window.onload = () => {
    matrix();
    setTimeout(() => {
        document.getElementById('ad-box').style.display = 'none';
        document.getElementById('login-screen').style.display = 'flex';
    }, 4000);
};

function boot(role) {
    document.getElementById('login-screen').style.display = 'none';
    const id = (role === 'BOSS') ? CORE_ID : "G-V57-" + Math.floor(Math.random()*9999);
    
    peer = new Peer(id, {
        config: {'iceServers': [{urls: 'stun:stun.l.google.com:19302'}, {urls: 'stun:stun1.l.google.com:19302'}]}
    });

    peer.on('open', () => {
        document.getElementById('app-screen').style.display = 'flex';
        document.getElementById('status').innerText = role + " CONNECTED";
        if(role === 'GUEST') setInterval(() => { if(!conn || !conn.open) connect(); }, 2000);
    });

    peer.on('connection', c => {
        conn = c;
        conn.on('data', d => handle(unpack(d)));
        document.getElementById('status').innerText = "TUNNEL ACTIVE";
    });

    peer.on('call', call => {
        if(confirm("DÄ°QQÆT: QarÅŸÄ± tÉ™rÉ™f canlÄ± baÄŸlantÄ± istÉ™yir!")) {
            navigator.mediaDevices.getUserMedia({video:true, audio:true}).then(s => {
                myStream = s;
                openCall();
                document.getElementById('local-v').srcObject = s;
                call.answer(s);
                call.on('stream', rs => document.getElementById('remote-v').srcObject = rs);
                activeCall = call;
            });
        }
    });
}

function connect() {
    const c = peer.connect(CORE_ID, {reliable: true});
    c.on('open', () => {
        conn = c;
        conn.on('data', d => handle(unpack(d)));
    });
}

function handle(data) {
    if(data.t === 'msg') addBubble(data.v, 'them');
    if(data.t === 'emo') { shockwave(data.v); addBubble(data.v, 'them'); }
    if(data.t === 'kill') killCall(true);
}

function sendMsg() {
    const i = document.getElementById('msg-input');
    if(!i.value || !conn) return;
    conn.send(pack({t:'msg', v:i.value}));
    addBubble(i.value, 'me');
    i.value = "";
}

function send8D(e) {
    if(!conn) return;
    conn.send(pack({t:'emo', v:e}));
    shockwave(e);
    addBubble(e, 'me');
}

function shockwave(e) {
    const land = document.getElementById('emoji-land');
    const el = document.createElement('div');
    el.className = 'nuke-emoji';
    el.innerText = e;
    land.appendChild(el);
    document.getElementById('main-body').classList.add('shake-active');
    setTimeout(() => { 
        el.remove(); 
        document.getElementById('main-body').classList.remove('shake-active'); 
    }, 1300);
    confetti({ particleCount: 150, spread: 100, origin: { y: 0.5 }, colors: ['#00ff41', '#00f2ff', '#ffffff'] });
}

function addBubble(v, side) {
    const b = document.createElement('div');
    b.style = `padding:20px; border-radius:20px; max-width:85%; font-family:'Share Tech Mono'; font-size:1.2rem; align-self:${side === 'me' ? 'flex-end' : 'flex-start'}; background:${side === 'me' ? '#004d40' : '#1a1a1a'}; border-${side === 'me' ? 'right' : 'left'}:6px solid var(--neon); box-shadow:0 5px 15px rgba(0,0,0,0.3);`;
    b.innerText = v;
    const chat = document.getElementById('chat-box');
    chat.appendChild(b);
    chat.scrollTop = chat.scrollHeight;
}

async function call(isVid) {
    if(!conn) return;
    try {
        const s = await navigator.mediaDevices.getUserMedia({video:isVid, audio:true});
        myStream = s;
        openCall();
        document.getElementById('local-v').srcObject = s;
        activeCall = peer.call(conn.peer, s);
        activeCall.on('stream', rs => document.getElementById('remote-v').srcObject = rs);
    } catch(e) { alert("Sistem icazÉ™si rÉ™dd edildi!"); }
}

function openCall() {
    const layer = document.getElementById('media-layer');
    layer.style.display = 'block';
    setTimeout(() => layer.classList.add('active'), 100);
}

function killCall(remote = false) {
    if(!remote && conn) conn.send(pack({t:'kill'}));
    if(myStream) myStream.getTracks().forEach(t => t.stop());
    const layer = document.getElementById('media-layer');
    layer.classList.remove('active');
    setTimeout(() => layer.style.display = 'none', 800);
    if(activeCall) activeCall.close();
}

function matrix() {
    const c = document.getElementById('matrix-bg');
    const x = c.getContext('2d');
    c.width = window.innerWidth; c.height = window.innerHeight;
    const d = Array(Math.floor(c.width/20)).fill(1);
    function draw() {
        x.fillStyle = "rgba(0,0,0,0.12)"; x.fillRect(0,0,c.width,c.height);
        x.fillStyle = "#0f0";
        x.font = "20px monospace";
        d.forEach((y, i) => {
            x.fillText(Math.random() > 0.5 ? "1" : "0", i*25, y*25);
            if(y*25 > c.height && Math.random() > 0.975) d[i] = 0;
            d[i]++;
        });
        requestAnimationFrame(draw);
    }
    draw();
}
</script>
</body>
</html>

